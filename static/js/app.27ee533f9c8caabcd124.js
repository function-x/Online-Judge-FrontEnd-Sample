webpackJsonp([2,0],[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=r(5),a=n(o),s=r(23),u=n(s),i=r(71),l=n(i),f=r(24),d=n(f);r(27),a.default.use(u.default),new a.default({el:"#app",template:"<App/>",components:{App:l.default},router:d.default})},,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={url:"http://xjtu-orange-juice.herokuapp.com"}},,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(23),a=n(o),s=r(74),u=n(s),i=r(72),l=n(i),f=r(78),d=n(f),c=r(75),m=n(c);t.default=new a.default({mode:"history",routes:[{path:"/login",component:u.default},{path:"/",component:l.default},{path:"/register",component:d.default},{path:"/logout",component:m.default}]})},,function(e,t,r){e.exports=r.p+"static/img/logo.d1f0144.jpg"},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var n,o;r(28),n=r(91);var a=r(79);o=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(o=n=n.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,e.exports=n},function(e,t,r){var n,o;n=r(92);var a=r(86);o=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(o=n=n.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,e.exports=n},function(e,t,r){var n,o;r(32),n=r(93);var a=r(84);o=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(o=n=n.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-67b4b32c",e.exports=n},function(e,t,r){var n,o;r(33),n=r(94);var a=r(85);o=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(o=n=n.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-7eb32b77",e.exports=n},function(e,t,r){var n,o;n=r(95);var a=r(82);o=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(o=n=n.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,e.exports=n},function(e,t,r){var n,o;r(31),n=r(96);var a=r(83);o=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(o=n=n.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-50fa3ebe",e.exports=n},function(e,t,r){var n,o;r(29),n=r(97);var a=r(80);o=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(o=n=n.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-14954878",e.exports=n},function(e,t,r){var n,o;r(30),n=r(98);var a=r(81);o=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(o=n=n.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-2b93c0c3",e.exports=n},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{attrs:{id:"app"}},[t("nav-bar",{attrs:{id:"nav-bar","active-item":e.currentPath,username:e.user},on:{routeTo:e.route}}),e._v(" "),t("router-view",{on:{routeTo:e.route,login:e.login,logout:e.logout}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"registerform"},[t("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules},on:{submit:function(t){t.preventDefault(),e.register(t)}}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{placeholder:"用户名",type:"text"},domProps:{value:e.formData.username},on:{input:function(t){e.formData.username=t}}})]),e._v(" "),t("el-form-item",{attrs:{prop:"email"}},[t("el-input",{directives:[{name:"model",rawName:"v-model",value:e.formData.email,expression:"formData.email"}],attrs:{placeholder:"邮箱",type:"email"},domProps:{value:e.formData.email},on:{input:function(t){e.formData.email=t}}})]),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{placeholder:"密码",type:"password"},domProps:{value:e.formData.password},on:{input:function(t){e.formData.password=t}}})]),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"register-button",attrs:{type:"primary"},on:{click:e.register}},[e._v("注册")])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"registerpage"},[t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{sm:9,md:6}},[t("h1",[e._v("注册")]),e._v(" "),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.message.text,expression:"message.text"}],attrs:{title:e.message.text,type:e.message.type}}),e._v(" "),t("register-form",{on:{error:e.error,pending:e.pending,success:e.success}})])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"logoutpage"},[t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{sm:9,md:6}},[t("el-alert",{attrs:{type:e.type,title:e.text}})])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"nav"},[t("el-menu",{attrs:{mode:"horizontal","default-active":e.activeItem},on:{select:e.select}},[t("el-menu-item",{attrs:{index:"/"}},[e._v("首页")]),e._v(" "),e.username?e._e():t("el-menu-item",{attrs:{index:"/login"}},[e._v("登录")]),e._v(" "),e.username?e._e():t("el-menu-item",{attrs:{index:"/register"}},[e._v("注册")]),e._v(" "),e.username?t("el-menu-item",{attrs:{index:"/profile"}},[e._v(e._s(e.username))]):e._e(),e._v(" "),e.username?t("el-menu-item",{attrs:{index:"/logout"}},[e._v("退出")]):e._e()])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"loginform"},[t("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules},on:{submit:function(t){t.preventDefault(),e.login(t)}}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{placeholder:"用户名",type:"text"},domProps:{value:e.formData.username},on:{input:function(t){e.formData.username=t}}})]),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{placeholder:"密码",type:"password"},domProps:{value:e.formData.password},on:{input:function(t){e.formData.password=t}}})]),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"login-button",attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"loginpage"},[t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{sm:9,md:6}},[t("h1",[e._v("登录")]),e._v(" "),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.message.text,expression:"message.text"}],attrs:{title:e.message.text,type:e.message.type}}),e._v(" "),t("login-form",{on:{error:e.error,pending:e.pending,success:e.success}})])])])},staticRenderFns:[]}},function(e,t,r){e.exports={render:function(){var e=this;e.$createElement,e._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=(e.$createElement,e._c);return t("div",{staticClass:"homepage"},[t("img",{attrs:{src:r(26)}}),e._v(" "),t("h1",[e._v("Welcome to Orange Juice Online Judge System")])])}]}},,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(76),a=n(o),s=r(24),u=n(s),i=r(6),l=n(i),f=r(7),d=n(f);t.default={name:"app",data:function(){return{currentPath:u.default.currentRoute.path,user:""}},components:{NavBar:a.default},methods:{route:function(e){u.default.push({path:e}),this.currentPath=u.default.currentRoute.path},login:function(){var e=this;l.default.get(d.default.url+"/user/profile").withCredentials().end(function(t,r){t||0!==r.body.code||(e.user=r.body.body.username)})},logout:function(){this.user=""}},created:function(){this.login()}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"home-page"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),a=r(6),s=n(a),u=r(7),i=n(u);t.default={name:"login-form",data:function(){return{formData:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{login:function(){var e=this;this.$refs.form.validate(function(t){if(t){var r={username:e.formData.username,password:e.formData.password};e.$emit("pending"),s.default.post(i.default.url+"/user/sign-in").withCredentials().send(r).end(function(t,r){t?e.$emit("error",{code:-1,msg:"network error"}):0===r.body.code?e.$emit("success"):e.$emit("error",r.body)})}})}},components:{ElForm:o.Form,ElFormItem:o.FormItem,ElInput:o.Input,ElButton:o.Button}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(73),a=n(o),s=r(3);t.default={name:"login-page",data:function(){return{message:{text:"",type:"info"}}},methods:{error:function(e){this.message={text:e.msg,type:"error"}},pending:function(){this.message={text:"登录中...",type:"info"}},success:function(){var e=this;this.message={text:"登录成功",type:"success"},this.$emit("login"),setTimeout(function(){e.$emit("routeTo","/")},1e3)}},components:{LoginForm:a.default,ElRow:s.Row,ElCol:s.Col,ElAlert:s.Alert}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),a=r(6),s=n(a),u=r(7),i=n(u);t.default={name:"logout-page",data:function(){return{type:"info",text:"退出中"}},components:{ElAlert:o.Alert,ElRow:o.Row,ElCol:o.Col},created:function(){var e=this;s.default.get(i.default.url+"/user/sign-out").withCredentials().end(function(t,r){t?(e.type="error",e.text="网络错误"):(e.type="success",e.text="退出成功",e.$emit("logout"),setTimeout(function(){e.$emit("routeTo","/")},1e3))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.default={name:"nav-bar",data:function(){return{}},methods:{select:function(e){this.$emit("routeTo",e)}},components:{ElMenu:n.Menu,ElMenuItem:n.MenuItem},props:["activeItem","username"]}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),a=r(6),s=n(a),u=r(7),i=n(u);t.default={name:"register-form",data:function(){return{formData:{username:"",email:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],email:[{required:!0,message:"请输入Email",trigger:"blur"},{type:"email",message:"Email格式不正确",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{register:function(){var e=this;this.$refs.form.validate(function(t){if(t){var r={username:e.formData.username,email:e.formData.email,password:e.formData.password};e.$emit("pending"),s.default.post(i.default.url+"/user").withCredentials().send(r).end(function(t,r){t?e.$emit("error",{code:-1,errors:"network error"}):0===r.body.code?e.$emit("success"):e.$emit("error",r.body)})}})}},components:{ElForm:o.Form,ElFormItem:o.FormItem,ElInput:o.Input,ElButton:o.Button}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(77),a=n(o),s=r(3);t.default={name:"register-page",data:function(){return{message:{text:"",type:"info"}}},methods:{error:function(e){var t="";if("string"==typeof e.errors)t=e.errors;else for(var r in e.errors)e.errors.hasOwnProperty(r)&&(t+=r+": "+e.errors[r].message+"\n");this.message={text:t,type:"error"}},pending:function(){this.message={text:"注册中...",type:"info"}},success:function(){var e=this;this.message={text:"注册成功",type:"success"},setTimeout(function(){e.$emit("routeTo","/")},1e3)}},components:{RegisterForm:a.default,ElRow:s.Row,ElCol:s.Col,ElAlert:s.Alert}}}]);
//# sourceMappingURL=app.27ee533f9c8caabcd124.js.map